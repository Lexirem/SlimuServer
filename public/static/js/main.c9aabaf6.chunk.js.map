{"version":3,"sources":["lib/auth-service.js","lib/AuthProvider.js","components/AnonRoute.js","components/PrivateRoute.js","components/Navbar.js","pages/Home.js","pages/Login.js","pages/Signup.js","pages/Profile.js","pages/EditUser.js","pages/AnimeDetails.js","App.js","index.js"],"names":["axiosRequestFunctions","handleUpload","theFile","a","console","log","auth","post","res","data","this","axios","create","baseURL","process","withCredentials","email","password","then","get","id","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","user","logout","isLoggedin","props","Component","AuthProvider","state","isLoading","setState","catch","response","message","statusMessage","err","me","value","children","component","rest","render","to","className","src","alt","_id","onClick","getAnimes","array","i","map","datos","push","attributes","animeList","pathname","anime","posterImage","small","handleFormSubmit","event","preventDefault","handleChange","target","name","onSubmit","type","onChange","userId","getProfile","service","profile","match","params","deleteAnime","put","username","image","myAnime","index","history","handleChangeUser","handleFileUpload","e","upload","FormData","append","files","secure_url","addToMyList","location","titles","en_jp","ja_jp","episodeCount","status","description","App","path","Login","SignUp","exact","Home","Profile","EditUser","AnimeDetails","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c9aabaf6.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URI,\n      withCredentials: true,\n    });\n  }\n\n  signup({ email, password }) {\n    return this.auth\n      .post(\"/auth/signup\", { email, password })\n      .then(({ data }) => data);\n  }\n\n  login({ email, password }) {\n    return this.auth\n      .post(\"/auth/login\", { email, password })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post(\"/auth/logout\", {}).then(({ data }) => data);\n  }\n\n  me() {\n    return this.auth.get(\"/auth/me\").then(({ data }) => data);\n  }\n\n  profile(id){\n    return this.auth.get(`/profile/${id}`).then(({data}) => data);\n  }\n\n  editUser(){\n    return this.auth.get(`/profile/:id/edit`).then(({data}) => data);\n  }\n  handleUpload = async (theFile)=>{\n    console.log(\"file in service\", theFile);\n    try {\n      const res= await this.auth.post(\"/upload\", theFile);\n      return res.data;\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","import React from \"react\";\nimport auth from \"./auth-service\";\t\nconst { Consumer, Provider } = React.createContext();\n\n// HOC para crear Consumer\nconst withAuth = (WrappedComponent) => {\n  return class extends React.Component {\n    render() {    \n      return (\n        <Consumer>\n        { \n          ({login, signup, user, logout, isLoggedin}) => {\n            return (\n              <WrappedComponent \n                login={login} \n                signup={signup} \n                user={user}\n                logout={logout}\n                isLoggedin={isLoggedin}\n                {...this.props} />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };  \n};\n\n// Provider\nclass AuthProvider extends React.Component {\n  state = { isLoggedin: false, user: null, isLoading: true };\n\n  componentDidMount() {\n    auth.me()\n    .then((user) => this.setState({ isLoggedin: true, user: user, isLoading: false }))\n    .catch((err) => this.setState({ isLoggedin: false, user: null, isLoading: false }));\n  }\n\n  signup = (user) => {\n    const { email, password } = user;\n    \n    auth.signup({ email, password })\n      .then((user) => this.setState({ isLoggedin: true, user: user }))\n      .catch(({response}) => this.setState({ message: response.data.statusMessage}));\n  };\n\n  login = (user) => {\n    const { email, password } = user;\n\n    auth.login({ email, password })\n      .then((user) => this.setState({ isLoggedin: true, user: user }))\n      .catch((err) => console.log(err));\n  };\n\t\n  logout = () => {\n    auth.logout()\n      .then(() => this.setState({ isLoggedin: false, user: null }))\n      .catch((err) => console.log(err));\n  };\n\t\n  render() {\n    const { isLoading, isLoggedin, user } = this.state;\n    const { login, logout, signup } = this;\n    \n    return (\n      isLoading ? \n      <div>Loading</div> \n      :\n      (<Provider value={{ isLoggedin, user, login, logout, signup}} >\n         {this.props.children}\n      </Provider>)\n    )\t\n  }\n}\n\nexport { Consumer, withAuth };\t\t\n\nexport default AuthProvider;\t\t","// Cuando el usuario está logueado, necesitamos redireccionarlo a la página private, en nuestro caso el componente `Private`\n// Cuando el usuario no está logueado e intenta acceder a la página `/private` necesitamos direccionarlo al componente `Login`\n\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nfunction AnonRoute({ component: Component, isLoggedin, ...rest }) {\n return (\n  <Route\n    {...rest}\n    render={(props) => !isLoggedin ? <Component {...props} /> : <Redirect to=\"/\"/>}\n   />\n  );\n}\n\nexport default withAuth(AnonRoute);","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nfunction PrivateRoute({ component: Component, isLoggedin, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedin ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   />\n  );\n}\n\nexport default withAuth(PrivateRoute);","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from '../lib/AuthProvider';\n\n\nclass Navbar extends Component {\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <nav className='navbar'>\n      <div>\n        <Link to={\"/\"} className='home-btn'>\n        <img className=\"logo\" src=\"https://res.cloudinary.com/dh2lo8p1f/image/upload/v1607674460/fotos/kisspng-slime-rancher-puddle-blushing-puddle-5abf99dd683f02.693974441522506205427_thp0a6.png\" alt=\"logo\"/>\n        </Link>\n        </div>\n        {isLoggedin ? (\n          <div className=\"navbar-logged\">\n        \n          <button className=\"navbar-button\">\n            <Link to={`/profile/${user._id}`}>\n            Profile\n            </Link>\n            </button>\n            <button className=\"navbar-button\" onClick={logout}>\n            Logout\n            </button>\n          </div>\n        ) : (\n          <div className=\"navbar-logged\">\n            <Link to=\"/login\">\n              <button className=\"navbar-button\">Login</button>\n            </Link>\n            <Link to=\"/signup\">\n              <button className=\"navbar-button\">SignUp</button>\n            </Link>\n          </div>\n        )}\n      </nav>\n      );\n    }\n  }\n\nexport default withAuth(Navbar);\n\n\n        \n      \n","import React, {Component} from 'react';\nimport {Link } from 'react-router-dom';\nimport { withAuth} from '../lib/AuthProvider';\nimport axios from 'axios';\n\nclass Home extends Component {\n  constructor(props){\n    super(props);\n    this.state = {animeList: []};\n  }\n\n  getAnimes = async () => {\n    try{\n    let array = [];\n    let i = 0;\n    while (i <=200){\n    let animes = await axios.get(`https://kitsu.io/api/edge/anime?page[limit]=20&page[offset]=${i}`);\n    animes.data.data.map((datos) => array.push(datos.attributes));\n    this.setState({\n      animeList: array\n    });\n    i += 20;\n    } \n    } catch(err) {\n    console.log(err)\n    }\n  };\n\n  componentDidMount(){\n    this.getAnimes();\n  }\n    \n  render(){\n    console.log(this.state.animeList, \"array\")\n    console.log(this.props)\n    return (\n      <div className=\"home\"> \n        <h2>Welcome to Slimu Anime 2.0</h2>\n        <div className=\"animeList\">\n        {this.state.animeList ? this.state.animeList.map((datos) => {\n          return(\n            <div>\n              <Link to={{pathname: \"/details\", state: { anime: datos } }}><img src={datos.posterImage.small} alt=\"anime cover\" /> </Link>\n            </div>\n          )\n          }) : null\n        } \n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(Home);","import React, { Component } from \"react\";\nimport { withAuth } from '../lib/AuthProvider';\n\nclass Login extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    this.props.login({ email, password });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div className=\"login\">\n        <h1>Login</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n          \n          <label><b>Email: </b></label>\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange}/>\n          <br/>\n          <label><b>Password: </b></label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n          <br/>\n          <input type=\"submit\" value=\"Login\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from '../lib/AuthProvider';\n\nclass Signup extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    this.props.signup({ email, password });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n    return (\n      <div className=\"login\">\n        <h1>Sign Up</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n\n          <label><b>Email: </b></label>\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange} />\n          <br/>\n          <label><b>Password: </b></label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n          <br/>\n          <input type=\"submit\" value=\"Signup\" />\n        </form>\n        \n        <p>Already have account?</p>\n        <Link to={\"/login\"}> Login</Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { withAuth } from '../lib/AuthProvider';\nimport service from '../lib/auth-service';\n\n\nclass Profile extends Component {\n  state = {\n    userId: this.props.user._id,\n    user: {},\n  };\n\n  getProfile = async () => {\n    try{\n      const res = await service.profile(this.props.match.params.id);\n      console.log(this.props.match, \"res\")\n      this.setState({ user: res})\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  deleteAnime = async(_id) =>{\n    try{\n      await axios.put(`http://localhost:4000/profile/favorites/${this.props.user._id}`, { _id: _id})\n      this.getProfile();\n    } catch(err){\n      console.log(err)\n    }\n  };\n\n  componentDidMount(){\n      this.getProfile();\n  }\n\n  render() {\n    // console.log(data.image, \"data\")\n    return (\n      <div className=\"profile\">\n        <h2>Welcome {this.state.user.username} </h2>\n        <img className=\"foto\" src={this.state.user.image} alt=\"profile\"/>\n        <Link to={`/profile/${this.props.match.params.id}/edit`}>Edit your Profile</Link>\n        <section className=\"myList\">\n          <p><b>Your Anime List</b></p> \n          <div className=\"myAnimes\">\n          {this.state.user.myAnime ? this.state.user.myAnime.map((data, index) => {\n            console.log(data, \"data\")\n            return(\n                <div className=\"myAnimu\">\n                    <img src={data.image} alt=\"anime cover\"/>\n                    <div>\n                    <h4>{data.name}</h4>\n                    <button onClick={() => this.deleteAnime(data._id)}>Remove from List</button>\n                    </div>\n                </div>    \n            )\n          }) : null}\n          </div> \n        </section>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(Profile);","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport service from \"../lib/auth-service\";\n\n\nclass EditUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: this.props.user.username,\n      email: this.props.user.email,\n      image: this.props.user.image,\n    };\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    let { username, email, image } = this.state;\n\n    axios\n      .put(\n        `${process.env.REACT_APP_API_URI}/profile/${this.props.match.params.id}/edit`,\n        {\n          username,\n          email,\n          image,\n        }\n      )\n      .then(() => {\n        this.props.history.push(`/profile/${this.props.match.params.id}`);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  handleChangeUser = (event) => {\n    let { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleFileUpload = async (e) => {\n    const upload = new FormData();\n    upload.append(\"image\", e.target.files[0]);\n    try {\n      const res = await service.handleUpload(upload);\n      this.setState({ image: res.secure_url });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  render(){\n      return(\n          <div className=\"edit\">\n              <h2>Edit your Profile</h2>\n              <form className=\"edit-info\" onSubmit={this.handleFormSubmit}>\n                  <label><b>Username: </b></label>\n                  <input\n                    type=\"text\"\n                    name=\"username\"\n                    value={this.state.username}\n                    onChange={(e) => this.handleChangeUser(e)}\n                  />\n                  <br/>\n                  <label><b>Email: </b></label>\n                  <input\n                    type=\"text\"\n                    name=\"email\"\n                    value={this.state.email}\n                    onChange={(e) => this.handleChangeUser(e)}\n                  />\n                  <br/>\n                  <label><b>Image: </b></label>\n                  <input\n                    type=\"file\"\n                    name=\"image\"\n                    onChange={(e) => this.handleFileUpload(e)}\n                  /> \n                  <input type=\"submit\" value=\"Submit\"/>\n              </form>\n          </div>\n      )\n  }\n}\n\nexport default withAuth(EditUser);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nclass AnimeDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      anime: this.props.location.state.anime,\n    };\n  }\n\n  addToMyList = async (props) => {\n    let { image, name }= props;\n    await axios.post(`http://localhost:4000/profile/favorites/${this.props.user._id}`, {image, name})\n    console.log(image, name);\n  };\n\n  render() {\n    console.log(this.props, \"props\")\n    return (\n      <div className=\"details\">\n        <h2>{this.state.anime.titles.en_jp}</h2>\n        <h4>{this.state.anime.titles.ja_jp}</h4>\n        <img src={this.state.anime.posterImage.small} alt=\"anime cover\" />\n        <p><b>Episodes:</b>{this.state.anime.episodeCount}</p>\n        <p><b>Status:</b>{this.state.anime.status}</p>\n        <p>{this.state.anime.description}</p>\n        {this.props.user.myAnime.name !== this.state.anime.titles.en_jp ? \n        <button\n          onClick={() =>\n            this.addToMyList({image: this.state.anime.posterImage.small, name: this.state.anime.titles.en_jp})\n          }>Add to my List\n        </button> : null\n        }\n        <Link to={\"/\"}><button>Go Back</button></Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(AnimeDetails);\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport AuthProvider from './lib/AuthProvider';\nimport AnonRoute from './components/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute';\n\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/Home\";\nimport Login from \"./pages/Login\";\nimport SignUp from \"./pages/Signup\";\nimport Profile from \"./pages/Profile\";\nimport EditUser from \"./pages/EditUser\";\nimport AnimeDetails from \"./pages/AnimeDetails\";\n\nclass App extends Component {\n  render() {\n    return (\n      <AuthProvider>       \n        <div>\n          <Navbar />\n          <Switch>\n            <AnonRoute path=\"/login\" component={Login} />\n            <AnonRoute path=\"/signup\" component={SignUp} />\n            <Route exact path=\"/\" component={Home} />\n            <PrivateRoute exact path='/profile/:id' component={Profile} />\n            <PrivateRoute exact path='/profile/:id/edit' component={EditUser} />\n            <PrivateRoute exact path=\"/details\" component={AnimeDetails}/>\n          </Switch>  \n        </div>\n\n      </AuthProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}